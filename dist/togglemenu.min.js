!function(e){"use strict";e.ToggleMenu=function(s){return this.elements={body:e("body")},e.extend(this.settings={},e.ToggleMenu.defaults,s),this.display={current:null},this.instance=null,this.options={},this},e.ToggleMenu.defaults={classes:{prefix:"togglemenu"},onDisplayLoad:void 0,onDisplayComplete:void 0,onDisplayUnload:void 0},e.ToggleMenu.prototype={setDisplay:function(s,t){return!this.isCurrentDisplay(s)&&(this.removeDisplay(),this.addDisplay(s,t))},setOptions:function(s,t){return this.options[s]=t,this},isCurrentDisplay:function(s){return this.display.current===s},addDisplay:function(s,t){return!this.isCurrentDisplay(s)&&(this.display.className=this.getDisplayClassName(s),void 0!==this.settings.onDisplayLoad&&this.settings.onDisplayLoad.call(this),void 0!==e[this.display.className]?(this.display.current=s,this.elements.body.addClass(this.settings.classes.prefix+"-"+s),void 0===t&&void 0!==this.options[s]&&(t=this.options[s]),this.instance=new e[this.display.className](this,t)):this.setLog("error",'Display "'+this.display.className+'" not found.'),void 0!==this.settings.onDisplayComplete&&this.settings.onDisplayComplete.call(this),this)},removeDisplay:function(){return null!==this.display.current&&(this.elements.body.removeClass(this.settings.classes.prefix+"-"+this.display.current),e[this.display.className].prototype.hasOwnProperty("unload")&&e[this.display.className].prototype.unload.call(this.instance),void 0!==this.settings.onDisplayUnload&&this.settings.onDisplayUnload.call(this),this.display.current=null,delete this.display.className),this},getDisplayClassName:function(s){return"ToggleMenu"+s.charAt(0).toUpperCase()+s.substr(1)},getInstance:function(){return this.instance},getItemsParent:function(s){var i=[];return s.length&&s.each(function(s,t){(t=e(t)).find("ul").length&&i.push(t.get(0))}),e(i)},setLog:function(s,t){console[s]("ToggleMenu: "+t)},replacePrefixClass:function(){var i=this;return e.each(i.settings.classes,function(s,t){"string"==typeof t&&(i.settings.classes[s]=t.replace(/{prefix}/,i.settings.classes.prefix))}),i}}}(jQuery);