!function(s){"use strict";s.ToggleMenu=function(t){return this.elements={body:s("body")},s.extend(this.settings={},s.ToggleMenu.defaults,t),this.display={current:null},this.instance=null,this.options={},this},s.ToggleMenu.defaults={classes:{prefix:"togglemenu"},onDisplayLoad:void 0,onDisplayComplete:void 0,onDisplayUnload:void 0},s.ToggleMenu.prototype={setDisplay:function(s,t){return this.removeDisplay(),this.addDisplay(s,t)},setOptions:function(s,t){this.options[s]=t},isCurrentDisplay:function(s){return this.display.current===s},addDisplay:function(t,i){return this.isCurrentDisplay(t)?(this.setLog("log",'Display "'+t+'" is already defined.'),!1):(this.display.className=this.getDisplayClassName(t),void 0!==this.settings.onDisplayLoad&&this.settings.onDisplayLoad.call(this),void 0!==s[this.display.className]?(this.display.current=t,this.elements.body.addClass(this.settings.classes.prefix+"-"+t),void 0===i&&void 0!==this.options[t]&&(i=this.options[t]),this.instance=new s[this.display.className](this,i)):this.setLog("error",'Display "'+this.display.className+'" not found.'),void(void 0!==this.settings.onDisplayComplete&&this.settings.onDisplayComplete.call(this)))},removeDisplay:function(){return null!==this.display.current&&(this.elements.body.removeClass(this.settings.classes.prefix+"-"+this.display.current),s[this.display.className].prototype.hasOwnProperty("unload")&&s[this.display.className].prototype.unload.call(this.instance),void 0!==this.settings.onDisplayUnload&&this.settings.onDisplayUnload.call(this),this.display.current=null,delete this.display.className,!0)},getDisplayClassName:function(s){return"ToggleMenu"+s.charAt(0).toUpperCase()+s.substr(1)},getInstance:function(){return this.instance},getItemsParent:function(t){var i=[];return t.length&&t.each(function(t,e){var n=s(e),l=n.children("ul");l.length&&i.push(n.get(0))}),s(i)},setLog:function(s,t){console[s](t)},replacePrefixClass:function(){var t=this;return s.each(t.settings.classes,function(s,i){"string"==typeof i&&(t.settings.classes[s]=i.replace(/{prefix}/,t.settings.classes.prefix))}),t}}}(jQuery);